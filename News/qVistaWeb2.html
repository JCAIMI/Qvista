 <!DOCTYPE html>
 <html>
    <title>HTML Tutorial</title>
    
    <body>
    
    <div id="map" style="width:100%; height:600px;"></div>
    <div id="toc">
        <div id="divCercadors"></div>
    </div>
    
    <script type="text/javascript" src="https://w33.bcn.cat/geoBCN/js/api?v=0.5&f=jsapi.js"></script> 
    <script type="text/javascript" >    
        /** Establim si l'entorn utilitzarà el paquet gràfic o no (per defecte no l'utilitza.)*/
        geoBCN.usHTML = true;
    </script>    
    <script type="text/javascript" >    
        /** Establim l'entorn en mode mòbil o web (mode per defecte) */
        geoBCN.esMobil = false;
        var mapa, cercador; 
    
    /** Programem la inicialització de l'entorn */
        /** Definim la variable de mapa */
        var mapa1, cercadors;
    
        /** Establim l'entorn en mode mòbil */
        geoBCN.esMobil = false;
        geoBCN.usHTML = true;
    
        /** Programem la inicialització de l'entorn */
        geoBCN.ready = function () {
    
            /** Construim el mapa amb les nostres preferències */
            mapa1 = new geoBCN.Map({
                divId: 'map',
                mode: 'NAV',
                fons: ['BAS', 'SAT'],
                eines: ['GPSNAV','ROTACIO','ESCALIMETRE'],
                seleccioAdreca: function (adr) {
                    console.log('adreça');
                }
            });
    
            /** Construim el cercador amb les nostres preferències. Noteu que fa referència al mapa creat anteriorment. */
            cercadors = new geoBCN.Html.Cercadors({
                divId : 'divCercadors',
                mapa : mapa1,
                cerques : ['ADR', 'CRU']
            });
    
            /** Funció de map-click. Mostra la coordenada clicada. */
            function mapClick(evt) {
                alert('Click a ' + evt.coordinate[0] + ' - ' + +evt.coordinate[1]);
            }
    
            /** lliguem l'event de 'click' al mapa a la nostra funció.*/
            mapa1.mapClick(mapClick);
    
            /** Afegim un panell fent servir un String per passar-li el contingut. */
            var nouPanell = cercadors.afegirPanell({ 
                label : 'Coses que es podrien fer amb qVistaWeb',
                id : 'elmeupanell',
                html : '<h1>Aquest botó faria PING</h1><button onclick="cercadors.netejaInputs()">Botó que fa PING</button>'
            });
    
            /** Afegim un panell fent servir un objecte DOM per passar-li el contingut. */
            var elMeuDiv = document.createElement('div');
            var elMeuH3 = document.createElement('h3');
            elMeuH3.innerHTML = 'Funcions inimaginables del qVistaWeb ';
            elMeuDiv.appendChild(elMeuH3);
    
            var panellDos = cercadors.afegirPanell({ 
                label : 'Mes coses que es podrien fer amb qVistaWeb',
                id : 'elmeu2npanell',
                dom : elMeuDiv
            });
    
            cercadors.obrePanell(nouPanell);
        }
        </script>
    </body>
    </html> 